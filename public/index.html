<!-- public/index.html -->
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>IP DEPOT</title>

    <!-- ðŸ‘‡ DEV guard: silencia el rechazo null/undefined de reCAPTCHA
         Tiene que ir ANTES del bundle para ganar la carrera al overlay -->
    <script>
      (function () {
        // Solo en localhost/desarrollo
        var isDev = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
        if (!isDev) return;

        window.addEventListener(
          'unhandledrejection',
          function (e) {
            // Google reCAPTCHA (Edge/Tracking Prevention) suele lanzar null/undefined
            if (e && (e.reason === null || e.reason === undefined)) {
              try {
                e.preventDefault();
                // cortar burbujeo para que NO llegue al overlay de CRA
                if (e.stopImmediatePropagation) e.stopImmediatePropagation();
                if (e.stopPropagation) e.stopPropagation();
              } catch (_) {}
              console.warn('DEV: reCAPTCHA "null" swallow en early guard');
            }
          },
          true // <- captura, para que se ejecute antes que otros listeners
        );
      })();
    </script>
    <!-- â€¦el resto de tu headâ€¦ -->
  </head>
  <body>
    <div id="root"></div>
    <!-- CRA inyecta aquÃ­ el bundle -->
  </body>
</html>
